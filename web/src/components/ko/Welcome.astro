---
import SermonVideo from './_SermonVideoKorean.astro';
---
<div class="carousel w-full min-h-[300px] h-auto">
  <div id="slide1" class="carousel-item relative w-full">
    <div class="hero bg-primary/20">
      <div class="hero-content flex-col lg:flex-row">
        <div class="text-center lg:text-left w-3/4 md:w-2/3 px-4">
          <h1 class="text-3xl font-bold">하나님을 영화롭게 하는 예배 공동체</h1>
          <p class="py-4 md:py-6 text-sm md:text-base">
            우리는 영과 진리로 드리는 예배를 통해 하나님을 깊이 만나고, 삶의 모든 자리에서 그분의 영광을 드러내기를 소망합니다.
            십자가 사랑으로 서로를 섬기며 세상에 빛과 소금이 되는 거룩한 공동체입니다.
          </p>
        </div>
      </div>
    </div>
    <div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between">
      <button class="btn btn-circle btn-primary carousel-nav" data-target="slide3">❮</button>
      <button class="btn btn-circle btn-primary carousel-nav" data-target="slide2">❯</button>
    </div>
  </div>

  <div id="slide2" class="carousel-item relative w-full">
    <div class="hero bg-primary/20">
      <div class="hero-content flex-col lg:flex-row">
        <div class="text-center lg:text-left w-3/4 md:w-2/3 px-4">
          <h1 class="text-3xl font-bold">말씀으로 양육하는 교육 공동체</h1>
          <p class="py-4 md:py-6 text-sm md:text-base">
            매일 말씀을 묵상하고 삶에 적용하여 영적 성숙을 이루어갑니다.
            체계적인 양육과 훈련을 통해 성도들을 온전한 그리스도인으로 세우며,
            세상 속에서 빛과 소금의 역할을 감당하는 리더를 길러내는 교육 공동체입니다.
          </p>
        </div>
      </div>
    </div>
    <div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between">
      <button class="btn btn-circle btn-primary carousel-nav" data-target="slide1">❮</button>
      <button class="btn btn-circle btn-primary carousel-nav" data-target="slide3">❯</button>
    </div>
  </div>

  <div id="slide3" class="carousel-item relative w-full">
    <div class="hero bg-primary/20">
      <div class="hero-content flex-col lg:flex-row">
        <div class="text-center lg:text-left w-3/4 md:w-2/3 px-4">
          <h1 class="text-3xl font-bold">사랑으로 섬기는 선교 공동체</h1>
          <p class="py-4 md:py-6 text-sm md:text-base">
            그리스도의 사랑을 품고 이웃을 섬기며, 복음의 기쁜 소식을 땅 끝까지 전하는 사명에 헌신합니다.
            지역 사회를 넘어 열방을 향해 나아가며, 하나님의 사랑이 필요한 곳마다 생명의 빛을 비추는 선교 공동체입니다.
          </p>
        </div>
      </div>
    </div>
    <div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between">
      <button class="btn btn-circle btn-primary carousel-nav" data-target="slide2">❮</button>
      <button class="btn btn-circle btn-primary carousel-nav" data-target="slide1">❯</button>
    </div>
  </div>
</div>

<script>
  const slides = ['slide1', 'slide2', 'slide3'];
  let currentIndex = 0;

  // Function to smooth scroll to a slide
  function scrollToSlide(slideId) {
    const element = document.getElementById(slideId);
    if (element) {
      const container = element.parentElement;
      if (container) {
        container.scrollTo({
          left: element.offsetLeft,
          behavior: 'smooth'
        });
      }
    }
  }

  // Auto-slide functionality (currently commented out but logic updated for reference)
  setInterval(() => {
    currentIndex = (currentIndex + 1) % slides.length;
    scrollToSlide(slides[currentIndex]);
  }, 10000);


  // Add click event listeners to navigation buttons
  document.addEventListener('DOMContentLoaded', () => {
    const navButtons = document.querySelectorAll('.carousel-nav');
    navButtons.forEach(button => {
      button.addEventListener('click', (e) => {
        const targetId = (e.currentTarget as HTMLElement).dataset.target;
        if (targetId) {
          scrollToSlide(targetId);
          // Optional: Update currentIndex if auto-slide is re-enabled
          // currentIndex = slides.indexOf(targetId);
        }
      });
    });
  });
</script>


<!-- Sermon -->
<section class="py-5 bg-base-100">
  <div class="container mx-auto px-6">
    <div class="flex flex-col gap-12 max-w-3xl mx-auto text-left">
      <div class="flex justify-center flex-col items-center gap-4">
        <SermonVideo />
        <a href="https://www.youtube.com/@柏栄光教会/videos" target="_blank" class="link link-primary">유튜브에서 설교 영상 더 보기</a>
      </div>
    </div>
  </div>
</section>

<!-- Introduction -->
<section class="py-5 bg-base-100">
  <div class="container mx-auto px-6">
    <div class="flex flex-col gap-12 max-w-3xl mx-auto text-left">
      
      <div>
        <h2 class="text-2xl font-bold mb-4 text-primary">카시와영광교회</h2>
        <p class="text-gray-600 leading-relaxed">
          카시와영광교회는 2023년 4월 30일에 설립된 일본 치바현 카시와시에 위치한 <span class="font-bold text-gray-900">감리교단</span>에 속한 한인교회입니다.
          <br/>
          우리는 하나님의 영광을 위해 예배하며, 복음을 전하고, 서로 사랑하며 섬기는 공동체가 되고자 합니다.
        </p>
      </div>
    </div>
  </div>
</section>


<!-- With Jesus -->
<section class="py-5 bg-base-100">
  <div class="container mx-auto px-6">
    <div class="flex flex-col gap-12 max-w-3xl mx-auto text-left">
      <div>
        <h2 class="text-2xl font-bold mb-4 text-primary">예수동행훈련</h2>
        <p class="text-gray-600 leading-relaxed">
          예수동행일기는 예수님과 동행하는 삶을 훈련하는 가장 탁월한 도구입니다.
          <br/>
          예수동행일기의 초점은 일기 쓰기가 아니라, 오직 하나 
          <span class="font-bold text-gray-900">"예수님과 친밀한 동행"</span>입니다.
        </p>
        <a href="https://wjm.kr/with-jesus-journal/" target="_blank" class="btn btn-outline btn-primary btn-sm mt-4">자세히 알아보기</a>
        
      </div>
    </div>
  </div>
</section>
