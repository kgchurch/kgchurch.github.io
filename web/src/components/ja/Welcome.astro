---
import SermonVideo from '~/components/ja/_SermonVideoJapanese.astro';
---
<div class="carousel w-full min-h-[300px] h-auto">
  <div id="slide1" class="carousel-item relative w-full">
    <div class="hero bg-primary/20">
      <div class="hero-content flex-col lg:flex-row">
        <div class="text-center lg:text-left w-3/4 md:w-2/3 px-4">
          <h1 class="text-3xl font-bold">神の栄光を現す礼拝共同体</h1>
          <p class="py-4 md:py-6 text-sm md:text-base">
            私たちは、霊と真理による礼拝を通して神様と深く出会い、人生のあらゆる場でその栄光を現すことを願っています。 
            十字架の愛によって互いに仕え、この世の光と塩となる聖なる共同体です。
          </p>
        </div>
      </div>
    </div>
    <div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between">
      <button class="btn btn-circle btn-primary carousel-nav" data-target="slide3">❮</button>
      <button class="btn btn-circle btn-primary carousel-nav" data-target="slide2">❯</button>
    </div>
  </div>

  <div id="slide2" class="carousel-item relative w-full">
    <div class="hero bg-primary/20">
      <div class="hero-content flex-col lg:flex-row">
        <div class="text-center lg:text-left w-3/4 md:w-2/3 px-4">
          <h1 class="text-3xl font-bold">御言葉によって育てる教育共同体</h1>
          <p class="py-4 md:py-6 text-sm md:text-base">
            私たちは、毎日みことばを黙想し、生活に適用することで霊的な成熟を目指しています。
            体系的な養育と訓練を通して、信徒を成熟したキリスト者として育て、
            世の中で光と塩の役割を果たすリーダーを育成する教育共同体です。
          </p>
        </div>
      </div>
    </div>
    <div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between">
      <button class="btn btn-circle btn-primary carousel-nav" data-target="slide1">❮</button>
      <button class="btn btn-circle btn-primary carousel-nav" data-target="slide3">❯</button>
    </div>
  </div>

  <div id="slide3" class="carousel-item relative w-full">
    <div class="hero bg-primary/20">
      <div class="hero-content flex-col lg:flex-row">
        <div class="text-center lg:text-left w-3/4 md:w-2/3 px-4">
          <h1 class="text-3xl font-bold">愛をもって仕える宣教共同体</h1>
          <p class="py-4 md:py-6 text-sm md:text-base">
            私たちは、キリストの愛を心に抱き、隣人に仕えるとともに、福音の喜びの知らせを地の果てまで伝える使命に献身しています。
            地域社会を超えて諸国の民へと歩み出し、神の愛を必要とするすべての場所にいのちの光を照らす宣教共同体です。
          </p>
        </div>
      </div>
    </div>
    <div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between">
      <button class="btn btn-circle btn-primary carousel-nav" data-target="slide2">❮</button>
      <button class="btn btn-circle btn-primary carousel-nav" data-target="slide1">❯</button>
    </div>
  </div>
</div>

<script>
  const slides = ['slide1', 'slide2', 'slide3'];
  let currentIndex = 0;

  // Function to smooth scroll to a slide
  function scrollToSlide(slideId) {
    const element = document.getElementById(slideId);
    if (element) {
      const container = element.parentElement;
      if (container) {
        container.scrollTo({
          left: element.offsetLeft,
          behavior: 'smooth'
        });
      }
    }
  }

  // Auto-slide functionality (currently commented out but logic updated for reference)
  setInterval(() => {
    currentIndex = (currentIndex + 1) % slides.length;
    scrollToSlide(slides[currentIndex]);
  }, 10000);


  // Add click event listeners to navigation buttons
  document.addEventListener('DOMContentLoaded', () => {
    const navButtons = document.querySelectorAll('.carousel-nav');
    navButtons.forEach(button => {
      button.addEventListener('click', (e) => {
        const targetId = (e.currentTarget as HTMLElement).dataset.target;
        if (targetId) {
          scrollToSlide(targetId);
          // Optional: Update currentIndex if auto-slide is re-enabled
          // currentIndex = slides.indexOf(targetId);
        }
      });
    });
  });
</script>


<!-- Sermon -->
<section class="py-5 bg-base-100">
  <div class="container mx-auto px-6">
    <div class="flex flex-col gap-12 max-w-3xl mx-auto text-left">
      <div class="flex justify-center flex-col items-center gap-4">
        <SermonVideo />
        <a href="https://www.youtube.com/@柏栄光教会/videos" target="_blank" class="link link-primary">YouTubeで説教動画をもっと見る</a>
      </div>
    </div>
  </div>
</section>

<!-- Introduction -->
<section class="py-5 bg-base-100">
  <div class="container mx-auto px-6">
    <div class="flex flex-col gap-12 max-w-3xl mx-auto text-left">
      
      <div>
        <h2 class="text-2xl font-bold mb-4 text-primary">柏栄光教会</h2>
        <p class="text-gray-600 leading-relaxed">
          柏栄光教会は2023年4月30日に設立された日本の千種県柏栄市に位置する<span class="font-bold text-gray-900">監理教会団</span>所属の韓国教会です。
          <br/>
          私たちは神様の栄光のために礼拝を捧げ、福音を伝え、互いに愛し合い仕え合うコミュニティを目指しています。
      </div>
    </div>
  </div>
</section>


<!-- With Jesus -->
<section class="py-5 bg-base-100">
  <div class="container mx-auto px-6">
    <div class="flex flex-col gap-12 max-w-3xl mx-auto text-left">
      <div>
        <h2 class="text-2xl font-bold mb-4 text-primary">イエス同行訓練</h2>
        <p class="text-gray-600 leading-relaxed">
          イエス同行日記は、イエス様と共に歩む人生を訓練するための最も優れた道具です。
          <br/>
          イエス同行日記の焦点は日記を書くこと自体ではなく、ただ一つ、<span class="font-bold text-gray-900">イエス様との親しい交わり</span>にあります。
        </p>
        <a href="https://wjm.kr/with-jesus-journal/" target="_blank" class="btn btn-outline btn-primary btn-sm mt-4">詳しく見る</a>
      </div>
    </div>
  </div>
</section>
